(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n.p+"static/media/001-play.8f5e9ee5.svg"},28:function(e,t,n){e.exports=n.p+"static/media/002-music-player-pause-lines.6a389ca8.svg"},29:function(e,t,n){e.exports=n.p+"static/media/003-video-player-stop-button.f7408b00.svg"},30:function(e,t,n){e.exports=n.p+"static/media/004-skip-track-option.a8ffc82a.svg"},32:function(e,t,n){e.exports=n.p+"static/media/008-loving-heart-shape.acf928d2.svg"},33:function(e,t,n){e.exports=n.p+"static/media/010-lines-menu2.465bf01c.svg"},34:function(e,t,n){e.exports=n.p+"static/media/014-add-song.21e007fc.svg"},41:function(e,t,n){e.exports=n(74)},47:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(27),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=n(1),l=n(6),u=function(e,t){switch(t.type){case"FETCHING":return Object(l.a)({},e,{isFetching:t.data});case"UPDATE_VJ":return Object(l.a)({},e,{isFetching:!1});case"SET_NOTIFICATION":var n=t.data,a=n.notification,r=n.notificationMessage,i=n.notificationType;return Object(l.a)({},e,{notification:a,notificationMessage:r,notificationType:i});default:return e}},d=n(15),f=n.n(d),m=window.localStorage.getItem("ytMix")?JSON.parse(window.localStorage.getItem("ytMix")).vj:{mix:[0,1],lists:[0],mixById:{0:{videoId:0,searchs:[]},1:{videoId:0,searchs:[]}},listsById:{0:{id:0,name:"Primera lista",videos:[]}},colorVJ:{a:100,b:0,g:0,h:0,hex:"#000000",r:0,s:0,v:0}},p=function(e,t){switch(t.type){case"SEARCH_END":var n=t.data,a=n.mixId,r=n.videos,i=e.mixById[a];return i.searchs=r,Object(l.a)({},e,{mix:i});case"ADD_VIDEO_TO_LIST":var c=t.data,o=c.listId,s=c.video;return e.listsById[o].videos.push(s),Object(l.a)({},e);case"REMOVE_VIDEO_TO_LIST":var u=t.data,d=u.listId,m=u.idVideo,p=e.listsById[d],v=p.videos.filter(function(e){return e.videoId!==m});return p.videos=v,Object(l.a)({},e);case"UPDATE_VJ":var h=t.data;return Object(l.a)({},h);case"SET_COLOR":var g=t.data,y=f.a.cloneDeep(e);return f.a.set(y,"colorVJ",g),Object(l.a)({},y);default:return e}},v={pannel:{isFetching:!0,notification:!1,notificationMessage:"",notificationType:"success"},vj:m},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return{pannel:u(e.pannel,t),vj:p(e.vj,t)}},g=function(e){return{searchYT:function(t,n){e.dispatch({type:"SEARCH_END",data:{mixId:t,videos:n}})},addVideoToList:function(t,n){var a=n.id.videoId,r=n.snippet,i={videoId:a,title:r.title,url:r.thumbnails.default.url};e.dispatch({type:"ADD_VIDEO_TO_LIST",data:{listId:t,video:i}})},removeVideoList:function(t,n){e.dispatch({type:"REMOVE_VIDEO_TO_LIST",data:{listId:t,idVideo:n}})},updateVj:function(t){e.dispatch({type:"UPDATE_VJ",data:t})},updateColor:function(t){e.dispatch({type:"SET_COLOR",data:t})}}},y=Object(a.createContext)(v),E=(n(47),n(2)),b=n.n(E),O=n(5),w=function(e){var t=e.fetching,n=e.children,i=e.showChildren;return Object(a.useMemo)(function(){return t?r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"loader"})):null},[t,n,i])},j=w;w.defaultProps={showChildren:!1};var x=n(8),I=n.n(x),N=function(e){var t=e.icon,n=e.func,a=e.children,i=e.className,c=void 0===i?"":i,o={backgroundImage:"url(".concat(t,")")};return r.a.createElement("button",{style:o,onClick:function(){n()},className:c},a)},S=function(){var e=Object(a.useContext)(y),t=e.state,n=e.actions;return function(){var e=t.pannel,a=e.notification,i=e.notificationType,c=e.notificationMessage;return a?r.a.createElement("div",{className:"notification ".concat(a?"active":""," ").concat(i)},r.a.createElement("h3",null,i),r.a.createElement("p",null,c),r.a.createElement(N,{className:"button",icon:I.a,func:function(){n.pannel.setNotification(!1,"","")}})):null}()};var T=function(e){var t=e.playerOne,n=e.playerTwo,i=Object(a.useState)(192),c=Object(s.a)(i,2),o=c[0],l=c[1],u=Object(a.useState)(400),d=Object(s.a)(u,2),f=d[0],m=(d[1],Object(a.useState)(!1)),p=Object(s.a)(m,2),v=p[0],h=p[1],g=Object(a.useRef)(null),y=function(e){if(v){var a,r=window.outerWidth/2-200,i=r+f,c=e.screenX;c-20<=r?(c=0,a=0):c>=i-10?(c=f-20,a=f):a=(c-=r)-20>=f?f:c,l(c),function(e){var a=100*e/f,r=100-a;t.setVolume(r),n.setVolume(a)}(a)}};return function(){var e={left:o};return e.cursor=v?"col-resize":"pointer",Object(a.useMemo)(function(){return r.a.createElement("div",{className:v?"mixfader over":"mixfader",onPointerMove:function(e){y(e)}},r.a.createElement("div",{ref:g,className:"fader",style:e,onClick:function(){h(!v)}}))},[v,o,f])}()},C=n(10),k=n.n(C),V=n(28),R=n.n(V),A=n(29),L=n.n(A),_=n(30),D=n.n(_),P=function(){var e=Object(O.a)(b.a.mark(function e(t){var n,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return e.abrupt("return",new Uint8Array(n));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(O.a)(b.a.mark(function e(t){var n,a,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),e.next=3,P(n);case 3:return a=e.sent,r=new Blob([a],{type:"application/octet-stream"}),e.abrupt("return",URL.createObjectURL(r));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();var M,U,F="media",J=n(31),H=n.n(J),W=function(){var e=Object(O.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&key=".concat("AIzaSyDXHdaBBkea1HeDMBlcpu5f0VWVRHg_8Ls","&type=video&maxResults=36&q=").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.items);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),Y=n(32),G=n.n(Y),X=function(e){var t=e.title,n=e.img,i=e.onClickPlay,c=e.onClickAdd,o=e.isInList;return Object(a.useMemo)(function(){return r.a.createElement("div",{className:"video"},r.a.createElement("img",{src:n,alt:"",srcset:""}),r.a.createElement("p",null,t),r.a.createElement("div",{className:"buttons"},r.a.createElement(N,{func:i,name:"",icon:k.a}),o?null:r.a.createElement(N,{func:c,name:"",icon:G.a})))},[t,n])},q=function(e){var t=e.player,n=e.mixId,i=Object(a.useState)([]),c=Object(s.a)(i,2),o=c[0],l=c[1],u=Object(a.useContext)(y),d=u.state,f=u.actions,m=Object(a.useRef)(null);Object(a.useEffect)(function(){var e=d.vj,t=e.lists,n=e.listsById;t.forEach(function(e){n[e].videos.forEach(function(e){o.includes(e.videoId)||o.push(e.videoId)})}),l([]),m.current.focus()},[t,n]);var p=function(){var e=Object(O.a)(b.a.mark(function e(t){var a,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=m.current.value,e.next=4,W(a);case 4:r=e.sent,f.vj.searchYT(n,r);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=d.vj.mixById[n].searchs,a=e.length>12?{overflowY:"scroll"}:{},i=e.map(function(e,n){var a=o.includes(e.id.videoId);return r.a.createElement(X,{key:e.id.videoId,isInList:a,img:e.snippet.thumbnails.default.url,title:e.snippet.title,onClickPlay:function(){!function(e){var n=e.id.videoId;t.loadVideoById(n,0,F)}(e)},onClickAdd:function(){var t;t=e,f.vj.addVideoToList(0,t)}})});return r.a.createElement("div",{className:"list",style:a},i)};return d.vj.mixById[n].searchs,Object(a.useMemo)(function(){return r.a.createElement("section",{className:"pannel-search active"},r.a.createElement("form",{onSubmit:function(e){p(e)}},r.a.createElement("input",{className:"find",type:"text",ref:m})),v())},[o])},z=n(33),$=n.n(z),Z=n(34),K=n.n(Z),Q=function(e){var t=e.player,n=Object(a.useState)(0),i=Object(s.a)(n,2),c=i[0],o=i[1],l=Object(a.useContext)(y),u=l.state,d=l.actions;return r.a.createElement("section",{className:"pannel-search active ".concat(null===c?"lists":"open")},function(){var e=u.vj,n=e.lists,a=e.listsById;if(null!==c){var i=a[c],s=i.name,l=i.videos,f=l.map(function(e){var n=e.videoId,a=e.title,i=e.url;return r.a.createElement("div",{className:"video",key:n},r.a.createElement("img",{src:i,alt:"",srcset:""}),r.a.createElement("p",null,a),r.a.createElement("div",{className:"buttons"},r.a.createElement(N,{func:function(){var e;e=n,t.loadVideoById(e,5,"large"),t.stopVideo()},name:"",icon:K.a}),r.a.createElement(N,{func:function(){d.vj.removeVideoList(c,n)},name:"",icon:I.a})))}),m=l.length>12?{overflowY:"scroll"}:{};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,s),r.a.createElement("div",{className:"list",style:m},f))}return n.map(function(e){var t=a[e],n=t.name,i=t.id;return r.a.createElement("div",{className:"list"},r.a.createElement("p",{key:i,onClick:function(){!function(e){o(null!==c?null:e)}(i)}},n))})}())},ee=function(e){var t=e.player,n=e.mixId,i=Object(a.useState)(!1),c=Object(s.a)(i,2),o=c[0],l=c[1],u=Object(a.useState)(""),d=Object(s.a)(u,2),f=d[0],m=d[1],p=function(){l(!o),""!==f&&m("")};return function(){if(o){var e=[];switch(f){case"search":e.push(r.a.createElement(q,{mixId:n,player:t}));break;case"lists":e.push(r.a.createElement(Q,{player:t}))}return r.a.createElement("div",{className:"menu open"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){m("search")},className:"search"===f?"active":""},"Search"),r.a.createElement("li",{onClick:function(){m("lists")},className:"lists"===f?"active":""},"Lists"))),e,r.a.createElement(N,{icon:I.a,func:p}))}return r.a.createElement("div",{className:"menu"},r.a.createElement(N,{icon:$.a,func:p}))}()},te=function(e){var t=e.player,n=e.mixId;Object(a.useContext)(y).actions;return function(){var e=0===n?{paddingRight:200}:{paddingLeft:200};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{player:t,mixId:n}),r.a.createElement("div",{className:"buttons",style:e},[{type:"CURRENT",name:"PLAY",icon:k.a,function:function(){t.playVideo()}},{type:"CURRENT",name:"PAUSE",icon:R.a,function:function(){t.pauseVideo()}},{type:"CURRENT",name:"STOP",icon:L.a,function:function(){t.stopVideo()}},{type:"CURRENT",name:"NEXT",icon:D.a,function:function(){t.nextVideo()}}].map(function(e,t){return r.a.createElement("div",{key:t,className:e.name.toLowerCase()+" button"},r.a.createElement(N,{func:e.function,name:e.name,icon:e.icon}))})))}()},ne=function(e){e.mixId,e.player;var t=e.duration,n=e.start,i=Object(a.useState)(0),c=Object(s.a)(i,2),o=c[0],l=c[1];Object(a.useEffect)(function(){0!==n&&l(t/100*o)},[t,n]);return r.a.createElement("div",{className:"duration"},r.a.createElement("div",{className:"advance",style:{width:o+"%"}}))},ae=function(e){var t=e.mixId,n=e.reference,i=e.player,c=e.duration,o=e.start;return Object(a.useMemo)(function(){return r.a.createElement("div",{className:"mix mix-track".concat(0===t?"":" secondVideo")},r.a.createElement("div",{className:"iframe"},r.a.createElement("div",{ref:n})),r.a.createElement(ne,{mixId:t,player:i,duration:c,start:o}),r.a.createElement(te,{player:i,mixId:t}))},[n,i,c,o])},re=n(40),ie={button:{marginLeft:"1rem"},buttonColor:{marginLeft:"1rem",paddingTop:"3px"}},ce=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useContext)(y),i=n.state,c=n.actions,o=Object(a.useState)(i.vj.colorVJ),l=Object(s.a)(o,2),u=l[0],d=l[1];Object(a.useEffect)(function(){var e=document.documentElement;e.style.setProperty("--color-primary",u.hex),e.style.setProperty("--color-primary-light",f(u.hex,50)),e.style.setProperty("--color-primary-extra-light",f(u.hex,100)),e.style.setProperty("--color-primary-dark",f(u.hex,-50)),e.style.setProperty("--rgba-primary",m(u.hex)),i.vj.colorVJ.hex!==u.hex&&c.vj.updateColor(u)},[u]);var f=function(e,t){var n=parseInt(e.substring(1,3),16),a=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16);return n=parseInt(n*(100+t)/100),a=(a=parseInt(a*(100+t)/100))<255?a:255,r=(r=parseInt(r*(100+t)/100))<255?r:255,"#"+(1==(n=n<255?n:255).toString(16).length?"0"+n.toString(16):n.toString(16))+(1==a.toString(16).length?"0"+a.toString(16):a.toString(16))+(1==r.toString(16).length?"0"+r.toString(16):r.toString(16))},m=function(e){var t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),[(t="0x"+t.join(""))>>16&255,t>>8&255,255&t].join(",");throw new Error("Bad Hex")},p=function(){var t=Object(O.a)(b.a.mark(function t(n){var a;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(i.vj);case 2:a=t.sent,e.current.href=a;case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return function(){var n=new Date;return r.a.createElement("div",{className:"main-control"},r.a.createElement("h4",null,"SET CONFIG:"),r.a.createElement("div",{className:"buttons"},r.a.createElement("a",{ref:e,className:"button",download:"set-config-yt-".concat(n.getDate(),".txt"),href:"",onClick:function(e){p(e)}},"Download"),r.a.createElement("a",{className:"button",style:ie.button,onClick:function(){t.current.click()}},"Upload"),r.a.createElement("input",{style:{display:"none"},ref:t,type:"file",name:"set-config",onChange:function(){!function(e){var n=t.current.files[0];if(n){c.pannel.fetching(!0);var a=new FileReader;a.onload=function(){try{var e=JSON.parse(a.result);c.vj.updateVj(e),c.pannel.setNotification(!0,"Archivo cargado correctamente","success"),c.pannel.fetching(!1)}catch(t){c.pannel.setNotification(!0,"Archivo no v\xe1lido","error"),c.pannel.fetching(!1)}},a.onerror=function(){c.pannel.setNotification(!0,"Archivo no v\xe1lido","error"),c.pannel.fetching(!1)},a.readAsText(n)}}()}}),r.a.createElement("a",{style:ie.button,ref:e,className:"button",href:"",onClick:function(e){window.localStorage.removeItem("ytMix"),window.location.href="/"}},"Reset"),r.a.createElement("div",{style:ie.buttonColor},r.a.createElement(re.a,{initialHexColor:i.vj.colorVJ.hex,onChange:d,placement:"top"}))))}()};Object(i.render)(r.a.createElement(function(e){var t=e.children,n=Object(a.useReducer)(h,v),i=Object(s.a)(n,2),c=i[0],o=i[1],l=function(e,t){return{pannel:(n={state:e,dispatch:t},{loadVideosStart:function(){n.dispatch({type:"LOAD_VIDEOS_START"})},setNotification:function(e,t,a){n.dispatch({type:"SET_NOTIFICATION",data:{notification:e,notificationMessage:t,notificationType:a}})},fetching:function(e){n.dispatch({type:"FETCHING",data:e})}}),vj:g({state:e,dispatch:t})};var n}(c,o);return Object(a.useEffect)(function(){console.log({newState:c}),window.localStorage.setItem("ytMix",JSON.stringify(c))},[c]),r.a.createElement(y.Provider,{value:{state:c,dispatch:o,actions:l}},t)},null,r.a.createElement(function(){var e=Object(a.useState)({duration:0,player:void 0,start:0}),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)({duration:0,player:void 0,start:0}),o=Object(s.a)(c,2),l=o[0],u=o[1],d=Object(a.useContext)(y),f=d.state,m=d.actions,p=Object(a.useRef)(null),v=Object(a.useRef)(null);Object(a.useEffect)(function(){h()},[]);var h=function(){if(!window.YT){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",window.onYouTubeIframeAPIReady=g;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},g=function(){var e=Object(O.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={videoId:"LxtppUZthug",playerVars:{controls:0,rel:0},controls:0,showInfo:0,events:{onReady:E,onStateChange:w}},n={videoId:"1gG1gqE05Gk",playerVars:{controls:0},showInfo:0,events:{onReady:E}},e.prev=2,e.next=5,new window.YT.Player(p,t);case 5:return M=e.sent,e.next=8,new window.YT.Player(v,n);case 8:U=e.sent,Promise.all([M,U]).then(function(){m.pannel.fetching(!1)}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),m.pannel.fetching(!1);case 16:case"end":return e.stop()}},e,null,[[2,12]])}));return function(){return e.apply(this,arguments)}}(),E=function(e){e.target.setVolume(50);var t=e.target.getDuration();if("player"===e.target.m){var a=n;a.duration=t,a.player=e.target,i(a)}else{var r=l;r.duration=t,r.player=e.target,u(r)}},w=function(e){if("player"===e.target.m){var t=n;t.advance=e.target.getCurrentTime(),i(t)}else{var a=l;a.advance=e.target.getCurrentTime(),u(a)}};return function(){var e=f.pannel;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{fetching:e.isFetching,showChildren:!0}),r.a.createElement("main",{className:"mix"},r.a.createElement("section",{className:"mix-content"},r.a.createElement(ae,{player:M,mixId:0,reference:function(e){p=e},duration:n.duration,start:n.start}),r.a.createElement(ae,{player:U,mixId:1,reference:function(e){v=e},duration:l.duration,start:l.start}),r.a.createElement(T,{playerOne:M,playerTwo:U}),r.a.createElement(ce,null))),r.a.createElement("section",null,r.a.createElement(S,null)))}()},null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/youtube-mix",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/youtube-mix","/service-worker.js");c?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):o(t,e)})}}()},8:function(e,t,n){e.exports=n.p+"static/media/013-canceL.62b59787.svg"}},[[41,1,2]]]);
//# sourceMappingURL=main.94b05dea.chunk.js.map