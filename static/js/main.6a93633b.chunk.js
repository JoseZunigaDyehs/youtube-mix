(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,n){e.exports=n(96)},49:function(e,t){},51:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"loadTrackStart",function(){return A}),n.d(o,"loadTrack",function(){return O}),n.d(o,"setSelected",function(){return I}),n.d(o,"setPlaying",function(){return C}),n.d(o,"searchYT",function(){return R}),n.d(o,"toggleSearch",function(){return _}),n.d(o,"load",function(){return N}),n.d(o,"pause",function(){return L}),n.d(o,"toggleFader",function(){return j});var a=n(0),r=n.n(a),i=n(30),c=n(17),s=n(34),u=n(11),l=(n(47),n(7));var d={isActive:!1,isPlaying:!1,videoId:"S-sJp1FfG7Q",isLoading:!1,gain:50};var f=Object(u.c)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.fromJS({userData:l.fromJS(JSON.parse(sessionStorage.getItem("loggIn"))),isLoggedIn:!!(sessionStorage.getItem("loggIn")&&sessionStorage.getItem("token")&&sessionStorage.getItem("refresh_token")),token:sessionStorage.getItem("token")?sessionStorage.getItem("token"):"",refresh_token:sessionStorage.getItem("refresh_token")?sessionStorage.getItem("refresh_token"):"",timer:!!sessionStorage.getItem("timer")&&sessionStorage.getItem("timer"),isFetchingRefresh:!1,isLogin:!1}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_START":return e.set("isLogin",!0);case"REFRESH_TOKEN_START":return e.set("isFetchingRefresh",!0);case"REFRESH_TOKEN_END":return e.withMutations(function(e){e.set("isFetchingRefresh",!1).set("refresh_token",t.refresh_token).set("token",t.token).set("timer",t.timer)});case"SET_TIMER":return e.set("timer",t.date);case"LOGIN_USER_END":return e.withMutations(function(e){e.set("userData",l.fromJS(t.userData)).set("isLoggedIn",!0).set("timer",t.timer).set("isLogin",!1)});case"LOGOUT":return e.withMutations(function(e){e.set("userData",l.fromJS({})).set("isLoggedIn",!1).set("timer",!1)});case"GET_TOKEN_END":return e.merge(l.fromJS(t.data));default:return e}},notificationStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.fromJS({isActive:!1,message:null,typeNotification:null,time:3800}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_NOTIFICATION":return e.withMutations(function(e){e.set("isActive",!0).set("message",t.message).set("typeNotification",t.typeNotification)});case"DESACTIVE_NOTIFICATION":return e.withMutations(function(e){e.set("isActive",!1).set("message",null).set("typeNotification",null)});default:return e}},trackStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.fromJS({fader:!1,selected:0,positionFader:0,firstTrack:d,secondTrack:{}}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_TRACK_START":return 0===e.get("selected")?e.withMutations(function(e){e.setIn(["firstTrack","isLoading"],!0)}):e.withMutations(function(e){e.setIn(["secondTrack","isLoading"],!0)});case"LOAD_TRACK_END":return 0===e.get("selected")?e.withMutations(function(e){e.setIn(["firstTrack","videoId"],t.data).setIn(["firstTrack","isLoading"],!1)}):e.withMutations(function(e){e.setIn(["secondTrack","videoId"],t.data).setIn(["secondTrack","isLoading"],!1)});case"PAUSE_TRACK":return 0===e.get("selected")?e.withMutations(function(e){e.setIn(["firstTrack","isPLaying"],!1)}):e.withMutations(function(e){e.setIn(["secondTrack","isPLaying"],!1)});case"SET_PLAYING_TRACK":return e.withMutations(function(e){0===t.data?e.setIn(["firstTrack","isPlaying"],!0):e.setIn(["secondTrack","isPlaying"],!0)});case"SET_GAIN":return e.withMutations(function(e){0===t.data?e.setIn(["firstTrack","gain"],!0):e.setIn(["secondTrack","gain"],!0)});case"SET_SELECTED_TRACK":return e.withMutations(function(e){e.set("selected",t.data)});case"TOGGLE_FADER":return e.withMutations(function(e){e.set("fader",t.data)});default:return e}},searchStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.fromJS({isFetching:!1,isActive:!1,videos:[]}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SEARCH":return e.set("isActive",!e.get("isActive"));case"SEARCH_END":return e.set("videos",l.fromJS(t.data));default:return e}}});n(49);var p=u.a.apply(void 0,[].concat([s.a]));var g=Object(u.d)(f,p),m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var v=n(2),y=n(16),S=n(4),E=n(3),T=n(5),w=n(98),k=n(99);n(14);var b={QUALITY:"media"};function A(e){return function(t){t({type:"LOAD_TRACK_START",data:e})}}function O(e){return function(t){t({type:"LOAD_TRACK_END",data:e})}}function I(e){return function(t){t({type:"SET_SELECTED_TRACK",data:e})}}function C(e){return function(t){t({type:"SET_PLAYING_TRACK",data:e})}}function R(e){return function(t){t({type:"SEARCH_END",data:e})}}function _(){return function(e){e({type:"TOGGLE_SEARCH"})}}function N(e){return function(t){t({type:"SEARCH_END",data:e})}}function L(e){return function(e){e({type:"PAUSE_TRACK"})}}function j(e){return function(t){t({type:"TOGGLE_FADER",data:e})}}n(51);var F,P,D=n(13),M=function(e){function t(){var e,n;Object(v.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(S.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(a)))).toggleOver=function(){var e=n.props.trackStates;n.props.toggleFader(!e.get("fader"))},n.content=function(){var e={left:n.props.positionFader-10,top:0},t=n.props.trackStates;return t.get("fader")?e.cursor="col-resize":e.cursor="pointer",r.a.createElement("div",{style:e,className:t.get("fader")?"mixfader over":"mixfader",onClick:function(){n.toggleOver()}})},n.render=function(){return n.content()},n}return Object(T.a)(t,e),t}(a.Component),V=(n(53),a.Component,n(36)),x=n.n(V),G=function(e){function t(){var e,n;Object(v.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(S.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(a)))).state={videos:[]},n.input=r.a.createRef(),n.youtubeSearch=function(e){x()({key:"AIzaSyDXHdaBBkea1HeDMBlcpu5f0VWVRHg_8Ls",term:e},function(e){n.setState({videos:e})})},n.clickHandle=function(e){var t=e.id;n.props.setSound(t.videoId)},n.changeHandle=function(){var e=n.input.current.value;n.youtubeSearch(e)},n.listSearch=function(){var e=n.state.videos.map(function(e,t){return r.a.createElement("span",{key:e.id.videoId,onClick:function(){n.clickHandle(e)}},e.snippet.title)});return r.a.createElement("div",{className:"list"},e)},n.content=function(){var e=n.props.searchStates.get("isActive");return r.a.createElement("div",{className:"pannel-search ".concat(e?"active":"")},r.a.createElement("input",{className:"find",type:"text",ref:n.input,onChange:function(){n.changeHandle()}}),n.listSearch())},n.render=function(){return n.content()},n}return Object(T.a)(t,e),t}(a.Component),H=function(e){function t(){var e,n;Object(v.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(S.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(a)))).state={positionFader:window.innerWidth/2-5,total:window.innerWidth,buttons:[{type:"CURRENT",name:"PLAY",icon:"",function:function(){n.play()}},{type:"CURRENT",name:"PAUSE",icon:"",function:function(){n.pause()}},{type:"CURRENT",name:"STOP",icon:"",function:function(){n.stop()}},{type:"LOAD",name:"LOAD",icon:"",function:function(){n.toggleSearch()}}]},n.componentDidMount=function(){void 0===P&&n.loadYoutube()},n.loadYoutube=function(){(P=new Promise(function(e,t){var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];return o.parentNode.insertBefore(n,o),window.onYouTubeIframeAPIReady=function(){return e(window.YT)}})).then(function(e){n.player=new e.Player(n.youtubePlayerAnchorOne,{videoId:"S-sJp1FfG7Q",width:"100%",height:"100%",playerVars:{controls:0,rel:0},events:{onReady:n.onReadyYoutube}}),n.playerTwo=new e.Player(n.youtubePlayerAnchorTwo,{videoId:"zzkf4x1grXY",width:"100%",height:"100%",playerVars:{controls:0,rel:0},events:{onReady:n.onReadyYoutube}})}).catch(function(e){console.log(e)})},n.onReadyYoutube=function(e){e.target.setVolume(50)},n.setSelected=function(e){n.props.setSelected(e)},n.play=function(){0===n.props.trackStates.get("selected")?n.player.playVideo():n.playerTwo.playVideo().playVideo()},n.stop=function(){0===n.props.trackStates.get("selected")?n.player.stopVideo():n.playerTwo.stopVideo()},n.pause=function(){0===n.props.trackStates.get("selected")?n.player.pauseVideo():n.playerTwo.pauseVideo()},n.setSound=function(e){0===n.props.trackStates.get("selected")?n.player.loadVideoById(e,0,b.QUALITY):n.playerTwo.loadVideoById(e,0,b.QUALITY),n.props.toggleSearch()},n.fillButtons=function(){return n.state.buttons.map(function(e,t){return r.a.createElement("div",{key:t,className:e.name.toLowerCase()+" button"},r.a.createElement("button",{onClick:function(){e.function()}},e.name))})},n.setFaderMix=function(e){var t=100*e/n.state.total,o=100-t;n.player.setVolume(o),n.playerTwo.setVolume(t)},n.onPointerHandle=function(e){if(n.props.trackStates.get("fader")){var t=e.screenX;t>n.state.total-10?t=n.state.total-10:t<20&&(t=10),n.setState({positionFader:t},function(){n.setFaderMix(n.state.positionFader)})}},n.content=function(){var e=n.props.trackStates.get("selected");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mix",onPointerMove:function(e){n.onPointerHandle(e)}},r.a.createElement("div",{className:"mixtrack ".concat(0===e?" selected":""),onClick:function(){n.setSelected(0)}},r.a.createElement("div",{ref:function(e){n.youtubePlayerAnchorOne=e}})),r.a.createElement(M,Object.assign({setFaderMix:n.setFaderMix},n.props,{positionFader:n.state.positionFader})),r.a.createElement("div",{className:"mixtrack secondVideo".concat(1===e?" selected":""),onClick:function(){n.setSelected(1)}},r.a.createElement("div",{ref:function(e){n.youtubePlayerAnchorTwo=e}})),r.a.createElement(G,Object.assign({},n.props,{setSound:n.setSound}))),r.a.createElement("div",{className:"buttons"},n.fillButtons()))},n.render=function(){return n.content()},n}return Object(T.a)(t,e),Object(y.a)(t,[{key:"toggleSearch",value:function(){this.props.toggleSearch(),document.documentElement.getElementsByClassName("find")[0].focus()}}]),t}(a.Component),U=(a.Component,a.Component,n(75),a.Component,n(37)),Y=n.n(U),J=n(15),B=n.n(J),K=B()(),W=B()(),Q=function(e){function t(){var e,n;Object(v.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(S.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(a)))).pause=function(){n.props.pause()},n.play=function(){var e=n.props,t=e.trackStates;e.setPlaying;0===t.get("selected")?K.playVideo():W.playVideo()},n.stop=function(){0===n.props.trackStates.get("selected")?K.stopVideo():W.stopVideo()},n.setSound=function(e){0===n.props.trackStates.get("selected")?K=e:W=e},n.toggleSearch=function(){n.props.toggleSearch()},n.createSound=function(e){var t=Object(D.a)(Object(D.a)(n)).setSound;if(e)var o=new Y.a.Sound({source:"file",options:{path:e,volume:.5}},function(){o.play(),t(o)})},n.fillButtons=function(){return n.state.buttons.map(function(e,t){return r.a.createElement("div",{key:t,className:e.name.toLowerCase()+" button"},r.a.createElement("button",{onClick:function(){e.function()}},e.name))})},n.content=function(){return r.a.createElement("div",{className:"pannel"},r.a.createElement(H,Object.assign({},n.props,{setFaderMix:n.setFaderMix})))},n.render=function(){return n.content()},n}return Object(T.a)(t,e),t}(a.Component),z=function(e){function t(){return Object(v.a)(this,t),Object(S.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(y.a)(t,[{key:"getContent",value:function(){return r.a.createElement(w.a,{basename:""},r.a.createElement(k.a,null,r.a.createElement(Q,this.props)))}},{key:"render",value:function(){var e=this.getContent();return r.a.createElement(r.a.Fragment,null,e)}}]),t}(a.Component);var X=Object(c.b)(function(e){return e},function(e){return Object(u.b)(o,e)})(z);Object(i.render)(r.a.createElement(c.a,{store:g},r.a.createElement(X,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/youtube-mix",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/youtube-mix","/service-worker.js");m?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):h(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):h(t,e)})}}()}},[[39,2,1]]]);
//# sourceMappingURL=main.6a93633b.chunk.js.map