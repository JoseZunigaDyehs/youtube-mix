(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n.p+"static/media/002-music-player-pause-lines.6a389ca8.svg"},28:function(e,t,n){e.exports=n.p+"static/media/003-video-player-stop-button.f7408b00.svg"},29:function(e,t,n){e.exports=n.p+"static/media/004-skip-track-option.a8ffc82a.svg"},31:function(e,t,n){e.exports=n.p+"static/media/008-loving-heart-shape.acf928d2.svg"},32:function(e,t,n){e.exports=n.p+"static/media/010-lines-menu2.465bf01c.svg"},33:function(e,t,n){e.exports=n.p+"static/media/014-add-song.21e007fc.svg"},40:function(e,t,n){e.exports=n(74)},47:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=n(1),u=n(6),l=function(e,t){switch(t.type){case"FETCHING":return Object(u.a)({},e,{isFetching:t.data});case"UPDATE_VJ":return Object(u.a)({},e,{isFetching:!1});case"SET_NOTIFICATION":var n=t.data,a=n.notification,r=n.notificationMessage,c=n.notificationType;return Object(u.a)({},e,{notification:a,notificationMessage:r,notificationType:c});default:return e}},d=(n(45),window.localStorage.getItem("ytMix")?JSON.parse(window.localStorage.getItem("ytMix")).vj:{mix:[0,1],lists:[0],mixById:{0:{videoId:0,searchs:[]},1:{videoId:0,searchs:[]}},listsById:{0:{id:0,name:"Primera lista",videos:[]}},color:"#291743"}),f=function(e,t){switch(t.type){case"SEARCH_END":var n=t.data,a=n.mixId,r=n.videos,c=e.mixById[a];return c.searchs=r,Object(u.a)({},e,{mix:c});case"ADD_VIDEO_TO_LIST":var i=t.data,o=i.listId,s=i.video;return e.listsById[o].videos.push(s),Object(u.a)({},e);case"REMOVE_VIDEO_TO_LIST":var l=t.data,d=l.listId,f=l.idVideo,m=e.listsById[d],p=m.videos.filter(function(e){return e.videoId!==f});return m.videos=p,Object(u.a)({},e);case"UPDATE_VJ":var v=t.data;return Object(u.a)({},v);default:return e}},m={pannel:{isFetching:!0,notification:!1,notificationMessage:"",notificationType:"success"},vj:d},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return{pannel:l(e.pannel,t),vj:f(e.vj,t)}},v=function(e){return{searchYT:function(t,n){e.dispatch({type:"SEARCH_END",data:{mixId:t,videos:n}})},addVideoToList:function(t,n){var a=n.id.videoId,r=n.snippet,c={videoId:a,title:r.title,url:r.thumbnails.default.url};e.dispatch({type:"ADD_VIDEO_TO_LIST",data:{listId:t,video:c}})},removeVideoList:function(t,n){e.dispatch({type:"REMOVE_VIDEO_TO_LIST",data:{listId:t,idVideo:n}})},updateVj:function(t){e.dispatch({type:"UPDATE_VJ",data:t})}}},h=Object(a.createContext)(m),E=(n(47),n(2)),y=n.n(E),g=n(5),b=function(e){var t=e.fetching,n=e.children,c=e.showChildren;return Object(a.useMemo)(function(){return t?r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"loader"})):null},[t,n,c])},w=b;b.defaultProps={showChildren:!1};var O=n(8),j=n.n(O),I=function(e){var t=e.icon,n=e.func,a=e.children,c=e.className,i=void 0===c?"":c,o={backgroundImage:"url(".concat(t,")")};return r.a.createElement("button",{style:o,onClick:function(){n()},className:i},a)},x=function(){var e=Object(a.useContext)(h),t=e.state,n=e.actions;return function(){var e=t.pannel,a=e.notification,c=e.notificationType,i=e.notificationMessage;return a?r.a.createElement("div",{className:"notification ".concat(a?"active":""," ").concat(c)},r.a.createElement("h3",null,c),r.a.createElement("p",null,i),r.a.createElement(I,{className:"button",icon:j.a,func:function(){n.pannel.setNotification(!1,"","")}})):null}()};var N=function(e){var t=e.playerOne,n=e.playerTwo,c=Object(a.useState)(192),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useState)(400),d=Object(s.a)(l,2),f=d[0],m=(d[1],Object(a.useState)(!1)),p=Object(s.a)(m,2),v=p[0],h=p[1],E=Object(a.useRef)(null),y=function(e){if(v){var a,r=window.outerWidth/2-200,c=r+f,i=e.screenX;i-20<=r?(i=0,a=0):i>=c-10?(i=f-20,a=f):a=(i-=r)-20>=f?f:i,u(i),function(e){var a=100*e/f,r=100-a;t.setVolume(r),n.setVolume(a)}(a)}};return function(){var e={left:o};return e.cursor=v?"col-resize":"pointer",Object(a.useMemo)(function(){return r.a.createElement("div",{className:v?"mixfader over":"mixfader",onPointerMove:function(e){y(e)}},r.a.createElement("div",{ref:E,className:"fader",style:e,onClick:function(){h(!v)}}))},[v,o,f])}()},T=n(9),k=n.n(T),C=n(27),S=n.n(C),V=n(28),R=n.n(V),A=n(29),L=n.n(A),_=function(){var e=Object(g.a)(y.a.mark(function e(t){var n,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return e.abrupt("return",new Uint8Array(n));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(g.a)(y.a.mark(function e(t){var n,a,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),e.next=3,_(n);case 3:return a=e.sent,r=new Blob([a],{type:"application/octet-stream"}),e.abrupt("return",URL.createObjectURL(r));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();var B,P,M="media",U=n(30),F=n.n(U),J=function(){var e=Object(g.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&key=".concat("AIzaSyDXHdaBBkea1HeDMBlcpu5f0VWVRHg_8Ls","&maxResults=36&q=").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.items);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),W=n(31),Y=n.n(W),H=function(e){var t=e.title,n=e.img,c=e.onClickPlay,i=e.onClickAdd,o=e.isInList;return Object(a.useMemo)(function(){return r.a.createElement("div",{className:"video"},r.a.createElement("img",{src:n,alt:"",srcset:""}),r.a.createElement("p",null,t),r.a.createElement("div",{className:"buttons"},r.a.createElement(I,{func:c,name:"",icon:k.a}),o?null:r.a.createElement(I,{func:i,name:"",icon:Y.a})))},[t,n])},G=function(e){var t=e.player,n=e.mixId,c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useContext)(h),d=l.state,f=l.actions,m=Object(a.useRef)(null);Object(a.useEffect)(function(){var e=d.vj.mixById[n].searchs;u(e),m.current.focus()},[o,t,n]);var p=function(){var e=Object(g.a)(y.a.mark(function e(t){var a,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=m.current.value,e.next=4,J(a);case 4:r=e.sent,f.vj.searchYT(n,r);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=d.vj.mixById[n].searchs,a=d.vj,c=a.lists,i=a.listsById,o=e.length>12?{overflowY:"scroll"}:{},s=[];c.forEach(function(e){i[e].videos.forEach(function(e){s.includes(e.videoId)||s.push(e.videoId)})});var u=e.map(function(e,n){var a=s.includes(e.id.videoId);return r.a.createElement(H,{key:e.id.videoId,isInList:a,img:e.snippet.thumbnails.default.url,title:e.snippet.title,onClickPlay:function(){!function(e){var n=e.id;t.loadVideoById(n,0,M)}(e)},onClickAdd:function(){var t;t=e,f.vj.addVideoToList(0,t)}})});return r.a.createElement("div",{className:"list",style:o},u)};return function(){var e=d.vj.mixById[n].searchs;return Object(a.useMemo)(function(){return r.a.createElement("section",{className:"pannel-search active"},r.a.createElement("form",{onSubmit:function(e){p(e)}},r.a.createElement("input",{className:"find",type:"text",ref:m})),v())},[e])}()},X=n(32),q=n.n(X),z=n(33),Z=n.n(z),$=function(e){var t=e.player,n=Object(a.useState)(0),c=Object(s.a)(n,2),i=c[0],o=c[1],u=Object(a.useContext)(h),l=u.state,d=u.actions;return r.a.createElement("section",{className:"pannel-search active ".concat(null===i?"lists":"open")},function(){var e=l.vj,n=e.lists,a=e.listsById;if(null!==i){var c=a[i],s=c.name,u=c.videos,f=u.map(function(e){var n=e.videoId,a=e.title,c=e.url;return r.a.createElement("div",{className:"video",key:n},r.a.createElement("img",{src:c,alt:"",srcset:""}),r.a.createElement("p",null,a),r.a.createElement("div",{className:"buttons"},r.a.createElement(I,{func:function(){!function(e){var n=e.id;t.loadVideoById(n,0,M)}(e)},name:"",icon:k.a}),r.a.createElement(I,{func:function(){var e;e=n,t.loadVideoById(e,5,"large"),t.stopVideo()},name:"",icon:Z.a}),r.a.createElement(I,{func:function(){d.vj.removeVideoList(i,n)},name:"",icon:j.a})))}),m=u.length>12?{overflowY:"scroll"}:{};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,s),r.a.createElement("div",{className:"list",style:m},f))}return n.map(function(e){var t=a[e],n=t.name,c=t.id;return r.a.createElement("div",{className:"list"},r.a.createElement("p",{key:c,onClick:function(){!function(e){o(null!==i?null:e)}(c)}},n))})}())},K=function(e){var t=e.player,n=e.mixId,c=Object(a.useState)(!1),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useState)(""),d=Object(s.a)(l,2),f=d[0],m=d[1],p=function(){u(!o),""!==f&&m("")};return function(){if(o){var e=[];switch(f){case"search":e.push(r.a.createElement(G,{mixId:n,player:t}));break;case"lists":e.push(r.a.createElement($,{player:t}))}return r.a.createElement("div",{className:"menu open"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){m("search")},className:"search"===f?"active":""},"Search"),r.a.createElement("li",{onClick:function(){m("lists")},className:"lists"===f?"active":""},"Lists"))),e,r.a.createElement(I,{icon:j.a,func:p}))}return r.a.createElement("div",{className:"menu"},r.a.createElement(I,{icon:q.a,func:p}))}()},Q=function(e){var t=e.player,n=e.mixId;Object(a.useContext)(h).actions;return function(){var e=0===n?{paddingRight:200}:{paddingLeft:200};return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{player:t,mixId:n}),r.a.createElement("div",{className:"buttons",style:e},[{type:"CURRENT",name:"PLAY",icon:k.a,function:function(){t.playVideo()}},{type:"CURRENT",name:"PAUSE",icon:S.a,function:function(){t.pauseVideo()}},{type:"CURRENT",name:"STOP",icon:R.a,function:function(){t.stopVideo()}},{type:"CURRENT",name:"NEXT",icon:L.a,function:function(){t.nextVideo()}}].map(function(e,t){return r.a.createElement("div",{key:t,className:e.name.toLowerCase()+" button"},r.a.createElement(I,{func:e.function,name:e.name,icon:e.icon}))})))}()},ee=function(e){e.mixId,e.player;var t=e.duration,n=e.start,c=Object(a.useState)(0),i=Object(s.a)(c,2),o=i[0],u=i[1];Object(a.useEffect)(function(){0!==n&&u(t/100*o)},[t,n]);return r.a.createElement("div",{className:"duration"},r.a.createElement("div",{className:"advance",style:{width:o+"%"}}))},te=function(e){var t=e.mixId,n=e.reference,c=e.player,i=e.duration,o=e.start;return Object(a.useMemo)(function(){return r.a.createElement("div",{className:"mix mix-track".concat(0===t?"":" secondVideo")},r.a.createElement("div",{className:"iframe"},r.a.createElement("div",{ref:n})),r.a.createElement(ee,{mixId:t,player:c,duration:i,start:o}),r.a.createElement(Q,{player:c,mixId:t}))},[n,c,i,o])},ne=(n(39),function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useContext)(h),c=n.state,i=n.actions,o=function(){var t=Object(g.a)(y.a.mark(function t(n){var a;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(c.vj);case 2:a=t.sent,e.current.href=a;case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return function(){var n=new Date;return r.a.createElement("div",{className:"main-control"},r.a.createElement("h4",null,"SET CONFIG:"),r.a.createElement("div",{className:"buttons"},r.a.createElement("a",{style:{marginRight:"1rem"},ref:e,className:"button",download:"set-config-yt-".concat(n.getDate(),".txt"),href:"",onClick:function(e){o(e)}},"Download")," -",r.a.createElement("a",{style:{marginLeft:"1rem"},className:"button",onClick:function(){t.current.click()}},"Upload"),r.a.createElement("input",{style:{display:"none"},ref:t,type:"file",name:"set-config",onChange:function(){!function(e){var n=t.current.files[0];if(n){i.pannel.fetching(!0);var a=new FileReader;a.onload=function(){try{var e=JSON.parse(a.result);i.vj.updateVj(e),i.pannel.setNotification(!0,"Archivo cargado correctamente","success"),i.pannel.fetching(!1)}catch(t){i.pannel.setNotification(!0,"Archivo no v\xe1lido","error"),i.pannel.fetching(!1)}},a.onerror=function(){i.pannel.setNotification(!0,"Archivo no v\xe1lido","error"),i.pannel.fetching(!1)},a.readAsText(n)}}()}})))}()});Object(c.render)(r.a.createElement(function(e){var t=e.children,n=Object(a.useReducer)(p,m),c=Object(s.a)(n,2),i=c[0],o=c[1],u=function(e,t){return{pannel:(n={state:e,dispatch:t},{loadVideosStart:function(){n.dispatch({type:"LOAD_VIDEOS_START"})},setNotification:function(e,t,a){n.dispatch({type:"SET_NOTIFICATION",data:{notification:e,notificationMessage:t,notificationType:a}})},fetching:function(e){n.dispatch({type:"FETCHING",data:e})}}),vj:v({state:e,dispatch:t})};var n}(i,o);return Object(a.useEffect)(function(){console.log({newState:i}),window.localStorage.setItem("ytMix",JSON.stringify(i))},[i]),r.a.createElement(h.Provider,{value:{state:i,dispatch:o,actions:u}},t)},null,r.a.createElement(function(){var e=Object(a.useState)({duration:0,player:void 0,start:0}),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)({duration:0,player:void 0,start:0}),o=Object(s.a)(i,2),u=o[0],l=o[1],d=Object(a.useContext)(h),f=d.state,m=d.actions,p=Object(a.useRef)(null),v=Object(a.useRef)(null);Object(a.useEffect)(function(){E()},[]);var E=function(){if(!window.YT){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",window.onYouTubeIframeAPIReady=b;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},b=function(){var e=Object(g.a)(y.a.mark(function e(){var t,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={videoId:"LxtppUZthug",playerVars:{controls:0,rel:0},controls:0,showInfo:0,events:{onReady:O,onStateChange:j}},n={videoId:"1gG1gqE05Gk",playerVars:{controls:0},showInfo:0,events:{onReady:O}},e.prev=2,e.next=5,new window.YT.Player(p,t);case 5:return B=e.sent,e.next=8,new window.YT.Player(v,n);case 8:P=e.sent,Promise.all([B,P]).then(function(){m.pannel.fetching(!1)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[2,12]])}));return function(){return e.apply(this,arguments)}}(),O=function(e){e.target.setVolume(50);var t=e.target.getDuration();if("player"===e.target.m){var a=n;a.duration=t,a.player=e.target,c(a)}else{var r=u;r.duration=t,r.player=e.target,l(r)}},j=function(e){if("player"===e.target.m){var t=n;t.advance=e.target.getCurrentTime(),c(t)}else{var a=u;a.advance=e.target.getCurrentTime(),l(a)}};return function(){var e=f.pannel;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{fetching:e.isFetching,showChildren:!0}),r.a.createElement("main",{className:"mix"},r.a.createElement("section",{className:"mix-content"},r.a.createElement(te,{player:B,mixId:0,reference:function(e){p=e},duration:n.duration,start:n.start}),r.a.createElement(te,{player:P,mixId:1,reference:function(e){v=e},duration:u.duration,start:u.start}),r.a.createElement(N,{playerOne:B,playerTwo:P}),r.a.createElement(ne,null))),r.a.createElement("section",null,r.a.createElement(x,null)))}()},null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/youtube-mix",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/youtube-mix","/service-worker.js");i?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):o(t,e)})}}()},8:function(e,t,n){e.exports=n.p+"static/media/013-canceL.62b59787.svg"},9:function(e,t,n){e.exports=n.p+"static/media/001-play.8f5e9ee5.svg"}},[[40,1,2]]]);
//# sourceMappingURL=main.5e493954.chunk.js.map