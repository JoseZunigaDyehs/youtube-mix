(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n.p+"static/media/002-music-player-pause-lines.6a389ca8.svg"},16:function(e,t,n){e.exports=n.p+"static/media/003-video-player-stop-button.f7408b00.svg"},17:function(e,t,n){e.exports=n.p+"static/media/004-skip-track-option.a8ffc82a.svg"},19:function(e,t,n){e.exports=n.p+"static/media/014-add-song.21e007fc.svg"},20:function(e,t,n){e.exports=n.p+"static/media/010-lines-menu2.465bf01c.svg"},21:function(e,t,n){e.exports=n.p+"static/media/013-canceL.62b59787.svg"},22:function(e,t,n){e.exports=n(51)},28:function(e,t,n){},5:function(e,t,n){e.exports=n.p+"static/media/001-play.8f5e9ee5.svg"},51:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=n(1),u=n(6),l=function(e,t){switch(t.type){case"LOAD_VIDEOS_END":return Object(u.a)({},e,{isFetching:!1});default:return e}},d=window.localStorage.getItem("ytMix")?JSON.parse(window.localStorage.getItem("ytMix")).vj:{mix:[0,1],mixById:{0:{videoId:0,color:"red",searchs:[],lists:[{id:0,name:"",videosById:[0,1,2,3],videos:[]}],listById:[0]},1:{videoId:0,color:"red",searchs:[],lists:[{id:0,name:"",videosById:[0,1,2,3],videos:[]}],listById:[0]}}},f=function(e,t){switch(t.type){case"SEARCH_END":var n=t.data,a=n.mixId,r=n.videos,c=e.mixById[a];return c.searchs=r,Object(u.a)({},e,{mix:c});default:return e}},m={pannel:{isFetching:!0},vj:d},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return{pannel:l(e.pannel,t),vj:f(e.vj,t)}},v=function(e){return{searchYT:function(t,n){e.dispatch({type:"SEARCH_END",data:{mixId:t,videos:n}})}}},h=Object(a.createContext)(m),y=(n(28),n(3)),g=n.n(y),E=n(4),b=function(e){var t=e.fetching,n=e.children,c=e.showChildren;return Object(a.useMemo)(function(){return t?r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"loader"})):null},[t,n,c])},w=b;b.defaultProps={showChildren:!1};var x=function(e){var t=e.playerOne,n=e.playerTwo,c=Object(a.useState)(192),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useState)(400),d=Object(s.a)(l,2),f=d[0],m=(d[1],Object(a.useState)(!1)),p=Object(s.a)(m,2),v=p[0],h=p[1],y=Object(a.useRef)(null),g=function(e){if(v){var a,r=window.outerWidth/2-200,c=r+f,i=e.screenX;i-20<=r?(i=0,a=0):i>=c-10?(i=f-20,a=f):a=(i-=r)-20>=f?f:i,u(i),function(e){var a=100*e/f,r=100-a;t.setVolume(r),n.setVolume(a)}(a)}};return function(){var e={left:o};return e.cursor=v?"col-resize":"pointer",Object(a.useMemo)(function(){return r.a.createElement("div",{className:v?"mixfader over":"mixfader",onPointerMove:function(e){g(e)}},r.a.createElement("div",{ref:y,className:"fader",style:e,onClick:function(){h(!v)}}))},[v,o,f])}()},O=n(5),j=n.n(O),I=n(15),N=n.n(I),S=n(16),k=n.n(S),C=n(17),R=n.n(C),T=function(e){var t=e.icon,n=e.func,a=e.children,c={backgroundImage:"url(".concat(t,")")};return r.a.createElement("button",{style:c,onClick:function(){n()}},a)};var V,B,A="media",D=n(18),L=n.n(D),P=function(){var e=Object(E.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&key=".concat("AIzaSyDXHdaBBkea1HeDMBlcpu5f0VWVRHg_8Ls","&maxResults=12&q=").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.items);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),M=n(19),_=n.n(M),U=function(e){var t=e.title,n=e.img,c=e.onClick;return Object(a.useMemo)(function(){return r.a.createElement("div",{className:"video"},r.a.createElement("img",{src:n,alt:"",srcset:""}),r.a.createElement("p",null,t),r.a.createElement("div",{className:"buttons"},r.a.createElement(T,{func:c,name:"",icon:j.a}),r.a.createElement(T,{func:c,name:"",icon:_.a})))},[t,n])},W=function(e){var t=e.player,n=e.mixId,c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useContext)(h),d=l.state,f=l.actions,m=Object(a.useRef)(null);Object(a.useEffect)(function(){var e=d.vj.mixById[n].searchs;u(e),m.current.focus()},[o,t,n]);var p=function(){var e=Object(E.a)(g.a.mark(function e(t){var a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=m.current.value,e.next=4,P(a);case 4:r=e.sent,f.vj.searchYT(n,r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=d.vj.mixById[n].searchs.map(function(e,n){return r.a.createElement(U,{key:e.id.videoId,img:e.snippet.thumbnails.default.url,title:e.snippet.title,onClick:function(){!function(e){var n=e.id;t.loadVideoById(n,0,A)}(e)}})});return r.a.createElement("div",{className:"list"},e)};return function(){var e=d.vj.mixById[n].searchs;return Object(a.useMemo)(function(){return r.a.createElement("section",{className:"pannel-search active"},r.a.createElement("form",{onSubmit:function(e){p(e)}},r.a.createElement("input",{className:"find",type:"text",ref:m})),v())},[e])}()},Y=n(20),F=n.n(Y),H=n(21),J=n.n(H),X=function(e){var t=e.player,n=e.mixId,c=Object(a.useState)(!1),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useState)(""),d=Object(s.a)(l,2),f=d[0],m=d[1],p=function(){u(!o),""!==f&&m("")};return function(){if(o){var e=[];switch(f){case"search":e.push(r.a.createElement(W,{mixId:n,player:t}));break;case"lists":e.push(r.a.createElement("div",null,"Lists"))}return r.a.createElement("div",{className:"menu open"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){m("search")},className:"search"===f?"active":""},"Search"),r.a.createElement("li",{onClick:function(){m("lists")},className:"lists"===f?"active":""},"Lists"))),e,r.a.createElement(T,{icon:J.a,func:p}))}return r.a.createElement("div",{className:"menu"},r.a.createElement(T,{icon:F.a,func:p}))}()},q=function(e){var t=e.player,n=e.mixId;Object(a.useContext)(h).actions;return function(){var e=0===n?{paddingRight:200}:{paddingLeft:200};return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{player:t,mixId:n}),r.a.createElement("div",{className:"buttons",style:e},[{type:"CURRENT",name:"PLAY",icon:j.a,function:function(){t.playVideo()}},{type:"CURRENT",name:"PAUSE",icon:N.a,function:function(){t.pauseVideo()}},{type:"CURRENT",name:"STOP",icon:k.a,function:function(){t.stopVideo()}},{type:"CURRENT",name:"NEXT",icon:R.a,function:function(){t.nextVideo()}}].map(function(e,t){return r.a.createElement("div",{key:t,className:e.name.toLowerCase()+" button"},r.a.createElement(T,{func:e.function,name:e.name,icon:e.icon}))})))}()},z=function(e){e.mixId,e.player;var t=e.duration,n=e.start,c=Object(a.useState)(0),i=Object(s.a)(c,2),o=i[0],u=i[1];Object(a.useEffect)(function(){0!==n&&u(t/100*o)},[t,n]);return r.a.createElement("div",{className:"duration"},r.a.createElement("div",{className:"advance",style:{width:o+"%"}}))},G=function(e){var t=e.mixId,n=e.reference,c=e.player,i=e.duration,o=e.start;return Object(a.useMemo)(function(){return r.a.createElement("div",{className:"mix mix-track".concat(0===t?"":" secondVideo")},r.a.createElement("div",{className:"iframe"},r.a.createElement("div",{ref:n})),r.a.createElement(z,{mixId:t,player:c,duration:i,start:o}),r.a.createElement(q,{player:c,mixId:t}))},[n,c,i,o])};Object(c.render)(r.a.createElement(function(e){var t=e.children,n=Object(a.useReducer)(p,m),c=Object(s.a)(n,2),i=c[0],o=c[1],u=function(e,t){return{pannel:(n={state:e,dispatch:t},{loadVideosStart:function(){n.dispatch({type:"LOAD_VIDEOS_START"})},loadVideosEnd:function(){n.dispatch({type:"LOAD_VIDEOS_END"})}}),vj:v({state:e,dispatch:t})};var n}(i,o);return Object(a.useEffect)(function(){console.log({newState:i}),window.localStorage.setItem("ytMix",JSON.stringify(i))},[i]),r.a.createElement(h.Provider,{value:{state:i,dispatch:o,actions:u}},t)},null,r.a.createElement(function(){var e=Object(a.useState)({duration:0,player:void 0,start:0}),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)({duration:0,player:void 0,start:0}),o=Object(s.a)(i,2),u=o[0],l=o[1],d=Object(a.useContext)(h),f=d.state,m=d.actions,p=Object(a.useRef)(null),v=Object(a.useRef)(null);Object(a.useEffect)(function(){y()},[]);var y=function(){if(!window.YT){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",window.onYouTubeIframeAPIReady=b;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},b=function(){var e=Object(E.a)(g.a.mark(function e(){var t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={videoId:"LxtppUZthug",playerVars:{controls:0,rel:0},controls:0,showInfo:0,events:{onReady:O,onStateChange:j}},n={videoId:"1gG1gqE05Gk",playerVars:{controls:0},showInfo:0,events:{onReady:O}},e.prev=2,e.next=5,new window.YT.Player(p,t);case 5:return V=e.sent,e.next=8,new window.YT.Player(v,n);case 8:B=e.sent,Promise.all([V,B]).then(function(){m.pannel.loadVideosEnd()}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[2,12]])}));return function(){return e.apply(this,arguments)}}(),O=function(e){e.target.setVolume(50);var t=e.target.getDuration();if("player"===e.target.m){var a=n;a.duration=t,a.player=e.target,c(a)}else{var r=u;r.duration=t,r.player=e.target,l(r)}},j=function(e){if("player"===e.target.m){var t=n;t.advance=e.target.getCurrentTime(),c(t)}else{var a=u;a.advance=e.target.getCurrentTime(),l(a)}};return function(){var e=f.pannel;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{fetching:e.isFetching,showChildren:!0}),r.a.createElement("main",{className:"mix"},r.a.createElement("section",{className:"mix-content"},r.a.createElement(G,{player:V,mixId:0,reference:function(e){p=e},duration:n.duration,start:n.start}),r.a.createElement(G,{player:B,mixId:1,reference:function(e){v=e},duration:u.duration,start:u.start}),r.a.createElement(x,{playerOne:V,playerTwo:B}))))}()},null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/youtube-mix",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/youtube-mix","/service-worker.js");i?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):o(t,e)})}}()}},[[22,2,1]]]);
//# sourceMappingURL=main.f9633651.chunk.js.map